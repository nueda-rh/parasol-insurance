= プロンプトエンジニアリング演習（オプション）
include::_attributes.adoc[]

NOTE: このパートはオプション演習となります。そのため一旦スキップし、{ic-lab}全体を完了したあと、時間が余ったら実施してみて下さい。

IMPORTANT: ChatGPTやその他の商用AIサービスとやり取りを行う際、多くのガードレールが設けられており、不適切な結果や望ましくない結果を防ぐ仕組みが備わっています。私たちの{ic}演習では、こうしたガードレールがないモデルを使用しており、設定の変更も行います。したがって、利用者はモデルの出力結果が自分や対象とする受け手に適したものであることを確認するの必要があります。

これまでのセクションで見てきたように、様々な要因がモデルから得られる結果に影響を与えます：モデルのパラメータ、プロンプト、クエリ、そしてもちろんデータそのもの...。

これらの異なる要素をどのように調整すれば最良の結果が得られるかを見ていきましょう。

== 設定の変更

ノートブック `03-01-nb-llm-example.ipynb` に戻ってコードに変更を加えてみてください：

- `temperature` のような llm パラメータを変更してみましょう。tempertureが低くなるとモデルはクエリに対して決まった回答を行うようになり、高くなるとよりクリエイティブな回答を行います
- `prompt template` を変更して、モデルの挙動を変化させます。例えば、答えを詩の形式で返す。あるいは、企業のビジネス環境でより役立つように、特定のユーザーに向け答えるようにします。例えば、5歳の子供、あるいは技術的知識のない人、またはその反対の人などです。
- `query` 自体は、プロンプトの特定の側面を上書きするために使用できます。これは、ユーザーのクエリを事前フィルタリングするなど、「プロンプトインジェクション」に対するガードレールを設置することが重要である理由を示しています。

== データの変更

ノートブック `03-02-summarization.ipynb` に戻り、以下を変更してみましょう。

- あえて内容を理解しづらくなるように、claimのJSONファイルを編集または新規に作成します。（注：Jupyterでjsonファイルを編集するには、右クリックして「Open With > Editor」を選択します）


== プロンプトの変更

ノートブック `03-03-information-extraction.ipynb` に戻り、以下を変更してみてください。

- 日付と時刻の抽出において、モデルの出力を特定のフォーマットに従うようにし、より正確かつ簡潔にするよう試す。
